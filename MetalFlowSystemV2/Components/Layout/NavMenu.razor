@using Microsoft.AspNetCore.Components.Authorization

<MudNavMenu>
    <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
    <MudNavLink Href="counter" Icon="@Icons.Material.Filled.Add">Counter</MudNavLink>
    <MudNavLink Href="weather" Icon="@Icons.Material.Filled.Cloud">Weather</MudNavLink>
    <MudNavLink Href="auth" Icon="@Icons.Material.Filled.Lock">Auth Required</MudNavLink>

    <AuthorizeView Roles="Admin">
        <Authorized>
            <MudText Typo="Typo.subtitle2" Color="Color.Primary" Class="ml-4 mt-2 mb-1">ADMIN</MudText>
            <MudNavLink Href="admin/branches" Icon="@Icons.Material.Filled.Business">Branches</MudNavLink>
            <MudNavLink Href="admin/production-areas" Icon="@Icons.Material.Filled.Factory">Areas</MudNavLink>
            <MudNavLink Href="admin/shifts" Icon="@Icons.Material.Filled.Schedule">Shifts</MudNavLink>
            <MudNavLink Href="admin/trucks" Icon="@Icons.Material.Filled.LocalShipping">Trucks</MudNavLink>
            <MudNavLink Href="admin/users" Icon="@Icons.Material.Filled.People">Users</MudNavLink>
            <MudNavLink Href="admin/items" Icon="@Icons.Material.Filled.Category">Items</MudNavLink>
            <MudNavLink Href="admin/inventory" Icon="@Icons.Material.Filled.Inventory">Inventory</MudNavLink>
        </Authorized>
    </AuthorizeView>

    <AuthorizeView>
        <Authorized>
            <MudText Typo="Typo.subtitle2" Color="Color.Success" Class="ml-4 mt-2 mb-1">ACCOUNT</MudText>
            <MudNavLink Href="Account/Manage" Icon="@Icons.Material.Filled.Person">@context.User.Identity?.Name</MudNavLink>
            <MudNavLink>
                 <form action="Account/Logout" method="post">
                    <AntiforgeryToken />
                    <input type="hidden" name="ReturnUrl" value="" />
                    <button type="submit" style="background:none;border:none;padding:0;color:inherit;cursor:pointer;width:100%;text-align:left;display:flex;">
                         Logout
                    </button>
                </form>
            </MudNavLink>
        </Authorized>
        <NotAuthorized>
             <MudText Typo="Typo.subtitle2" Color="Color.Warning" Class="ml-4 mt-2 mb-1">ACCESS</MudText>
            <MudNavLink Href="Account/Register" Icon="@Icons.Material.Filled.PersonAdd">Register</MudNavLink>
            <MudNavLink Href="Account/Login" Icon="@Icons.Material.Filled.Login">Login</MudNavLink>
        </NotAuthorized>
    </AuthorizeView>
</MudNavMenu>
